<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>elm-swiss-station-departures</title>
</head>

<body>
    <div id="elm"></div>
    <script src="app.js"></script>
    <script>
        var storageKey = 'recent-searches';
        var storedData = localStorage.getItem(storageKey)
        var recentStations = storedData ? JSON.parse(storedData) : [];
        var app = Elm.Main.init({
            node: document.getElementById('elm'),
            flags: recentStations
        });

        app.ports.setStorage.subscribe(function (recentStations) {
            localStorage.setItem(storageKey, JSON.stringify(recentStations));
        });
    </script>
</body>

</html>